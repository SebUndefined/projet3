{% extends "layout.html.twig" %}

{% block title %}Tous les articles{% endblock %}

{% block content %}
	<div class="row">
    <div class="col-lg-8 col-md-8 col-sm-12">
    	<div class="col-xs-12">
           <div class="sub-header header-blue">
                Tous les articles
           </div>
           <i class="fa fa-caret-down fa-caret-down-green fa-5x"></i>
        </div>
    {% for article in articles %}
    	<div class="col-xs-12">
        	<div class="row">
        		<div class="col-md-3">
        			<img src="{{asset(article.img) }}" class="preview-pic">
        		</div>
        		<div class="col-md-9">
                	<h2 class="preview-title">{{ article.title }}</h2>
                	<p class="text-muted">Catégorie:  <a href="{{ path ('category', { 'slug': article.categorie.slug })}}">{{ article.categorie.name }}</a></p>
                	<p class="info">{{ article.content|striptags|slice(0,200) }}...</p>
                	<a href="{{ path ('article', { 'slug': article.slug })}}">Lire la suite...</a>
        		</div>
        	
        	</div>
        	<hr>
    	</div>		
    {% endfor %}
    <div class="col-xs-12">
    	<nav class="pagination-center">
  			<ul class="pagination">
                {% for i in 1..numberOfPage %}
                {% if i == currentPage %}
        			<li class="page-item active"><a class="page-link" href="./{{ i }}">{{ i }}</a></li>
        		{% else %}
        			<li class="page-item"><a class="page-link" href="{{ path('all-articles', {'page': i }) }}">{{ i }}</a></li>
        		{% endif %}
                {% endfor %}
                
        	</ul>
		</nav>
    </div>
    </div>
    
    <div class="col-lg-4 col-md-4 col-sm-12">
                <div class="col-xs-12">
    				<div class="sub-header header-aside">
                           Catégories
    				</div>
        			<i class="fa fa-caret-down fa-caret-down-black fa-5x"></i>
    			</div>
    			<div class="col-xs-12">
    				<ul class="list-group">
            			{% for category in categories %}
            			<a href="{{ path ('category', { 'slug': category.slug })}}" class="list-group-item list-group-item-aside">{{ category.name }}</a>
            			{% endfor %}
        			</ul>
    			</div>
	</div> 
	</div>
	
{% endblock %}
